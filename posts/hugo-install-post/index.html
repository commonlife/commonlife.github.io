<!DOCTYPE html>
<html class="no-js" lang="ko-kr">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Hugo 설치 및 포스팅 하기 - 비오는 숲</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
	
	
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/custom.css">
	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo">
			<a class="logo__link" href="/" title="비오는 숲" rel="home">
				<div class="logo__title">비오는 숲</div>
				
			</a>
		</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Hugo 설치 및 포스팅 하기</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg>
	<time class="meta__text" datetime="2019-06-14T10:37:56">June 14, 2019</time>
</div>

<div class="meta__item-categories meta__item">
	<svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg>
	<span class="meta__text"><a class="meta__link" href="/categories/how-to" rel="category">how to</a></span>
</div>
</div>
		</header>
<div class="post__toc toc">
	<div class="toc__title">Page content</div>
	<div class="toc__menu">
		<nav id="TableOfContents">
<ul>
<li><a href="#조건">조건</a></li>
<li><a href="#준비">준비</a></li>
<li><a href="#만들기">만들기</a>
<ul>
<li>
<ul>
<li><a href="#1-사이트를-만든다">1. 사이트를 만든다.</a></li>
<li><a href="#2-theme를-다운받는다">2. theme를 다운받는다.</a>
<ul>
<li>
<ul>
<li><a href="#git-themes를-submodule로-추가하기">git : themes를 submodule로 추가하기</a></li>
<li><a href="#git-다른-pc에서-themes를-submodule로-불러오기">git : 다른 PC에서 themes를 submodule로 불러오기</a></li>
<li><a href="#git-submodule-삭제하기">git : submodule 삭제하기</a></li>
</ul></li>
</ul></li>
<li><a href="#3-글을-만든다">3. 글을 만든다.</a></li>
<li><a href="#4-git-repository를-연결하고-빌드를-한다">4. git repository를 연결하고, 빌드를 한다.</a>
<ul>
<li><a href="#github-io-repository-연결하기">github.io repository 연결하기</a></li>
<li><a href="#build-하기">build 하기</a></li>
<li><a href="#blog-repository-연결하기"><blog> repository 연결하기</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#정리">정리</a>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#참고">참고</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
	</div>
</div>
<div class="content post__content clearfix">
			

<h1 id="조건">조건</h1>

<ul>
<li>사용자 PC는 Mac 이다.</li>
<li>github를 이용한다.</li>
</ul>

<h1 id="준비">준비</h1>

<ul>
<li>github에 repository를 생성한다.

<ul>
<li>hugo new site 로 만든 디렉토리가 담길 repository : 이름은 원하는대로</li>
<li>{username}.github.io 라는 이름으로 만든 repository : repository 이름이 url 주소가 된다.</li>
</ul></li>
<li>mac에 hugo를 설치한다.

<ul>
<li>brew install hugo</li>
<li>다른 방법도 있지만 생략한다. 그 중 직접 코드를 빌드해서 사용해보고 싶다면 golang 개발 환경 설정 및 부가적인 요소가 필요하다. <a href="https://github.com/gohugoio/hugo">hugo github</a></li>
</ul></li>
</ul>

<h1 id="만들기">만들기</h1>

<p><a href="https://gohugo.io/getting-started/quick-start/">quick start</a>는 많이 있다. 그래서 큰 그림으로 개념 설명 차원으로 기록한다.</p>

<ol>
<li>사이트를 만든다.</li>
<li>theme를 다운받는다.</li>
<li>글을 만든다.</li>
<li>git repository를 연결하고, 빌드를 한다.</li>
<li>commit과 push를 한다.</li>
</ol>

<p>아주 간단해 보이지만 repository가 두 군데인데 어떻게 되느냐이다. 그래서 사이트를 만들었다는 가정하에(blog라는 이름으로) 디렉토리 구조를 설명해보겠다.</p>

<h3 id="1-사이트를-만든다">1. 사이트를 만든다.</h3>

<p>여기선 blog라는 이름으로 예를 들어보겠다.</p>

<blockquote>
<p>$ hugo new site blog</p>
</blockquote>

<pre><code>blog
├── archetypes
├── config.toml
├── data
├── layouts
├── resources
├── static
└── themes
</code></pre>

<p>특별한 건 없다.</p>

<h3 id="2-theme를-다운받는다">2. theme를 다운받는다.</h3>

<pre><code>blog
├── archetypes
├── config.toml
├── data
├── layouts
├── resources
├── static
└── themes (git submodule &lt;theme&gt;)
</code></pre>

<p>themes 디렉토리 아래 다운받은 themes 파일들이 있다. 그리고 themes에는 선택한 theme의 git submodule이 등록되어 있다.</p>

<p><a href="https://themes.gohugo.io/">https://themes.gohugo.io/</a></p>

<h5 id="git-themes를-submodule로-추가하기">git : themes를 submodule로 추가하기</h5>

<p>프로젝트의 root 디렉토리에서</p>

<ol>
<li>git init</li>
<li>git submodule add <a href="https://github.com/budparr/gohugo-theme-ananke.git">https://github.com/budparr/gohugo-theme-ananke.git</a> themes/{theme 이름}</li>
</ol>

<h5 id="git-다른-pc에서-themes를-submodule로-불러오기">git : 다른 PC에서 themes를 submodule로 불러오기</h5>

<p>일단 프로젝트는 clone을 한 상태이며 프로젝트 root 디렉토리에 있다.</p>

<ol>
<li>git submodule init</li>
<li>git submodule update</li>
</ol>

<h5 id="git-submodule-삭제하기">git : submodule 삭제하기</h5>

<p>프로젝트의 root 디렉토리</p>

<ol>
<li>vi .gitmodules : 파일을 열어 삭제할 모듈들을 삭제</li>
<li>git rm &ndash;cached {submodule 이름} : .gitmodules에 있던 이름</li>
<li>git submodule deinit {submodule path}</li>
<li>rm -rf .git/modules/{submodule 이름}</li>
<li>commit &amp; push</li>
</ol>

<p>note : 프로젝트 전체를 clone한 후 submodule들을 업데이트하여 다운로드 받아야 삭제가 가능하다.</p>

<h3 id="3-글을-만든다">3. 글을 만든다.</h3>

<blockquote>
<p>$ hugo new posts/first-post.md</p>
</blockquote>

<pre><code>blog
├── archetypes
├── config.toml
├── content
│   └── posts
│       └── first-post.md
├── data
├── layouts
├── resources
├── static
└── themes (git submodule &lt;theme&gt;)
</code></pre>

<p>여기서 first-post.md의 draft 라인을 삭제하거나, false로 해야 웹에서 해당 글이 보인다.</p>

<p>항상 새로운 글은 hugo new 를 통해서 생성 시킨 후 작성해야 한다.</p>

<h3 id="4-git-repository를-연결하고-빌드를-한다">4. git repository를 연결하고, 빌드를 한다.</h3>

<h4 id="github-io-repository-연결하기">github.io repository 연결하기</h4>

<blockquote>
<p>$ git submodule add -b master <a href="https://github.com/{username}/{username}.github.io.git">https://github.com/{username}/{username}.github.io.git</a> public</p>
</blockquote>

<p>public 디렉토리에 github.io repository를 submodule로 연결한다.</p>

<h4 id="build-하기">build 하기</h4>

<blockquote>
<p>$ hugo -t {themes}</p>
</blockquote>

<p>혹은</p>

<blockquote>
<p>$ hugo</p>
</blockquote>

<p>build를 하고 나면 public 디렉토리 밑에 html 등등의 필요한 파일들이 생성된다.</p>

<h4 id="blog-repository-연결하기"><blog> repository 연결하기</h4>

<blockquote>
<p>$ git remote add origin <a href="https://github.com/{username}/blog.git">https://github.com/{username}/blog.git</a></p>
</blockquote>

<pre><code>blog (git &lt;blog&gt;)
├── archetypes
├── config.toml
├── content
│   └── posts
│       └── first-post.md
├── data
├── layouts
├── public (git submodule &lt;username.github.io&gt;)
├── resources
├── static
└── themes (git submodule &lt;theme&gt;)
</code></pre>

<p>여기까지 마치면 위의 디렉토리 구조가 된다. 그리고 두 곳의 repository로 push 하면 된다.</p>

<h1 id="정리">정리</h1>

<p>글을 쓸 때 마다 빌드를 하고, 이를 통해 public 디렉토리에 생성된 파일들을 username.github.io 에 push 하는 방식이다.</p>

<p>처음엔 두 군데의 repository 중 어느 것을 submodule로 잡아야 하는지 헷갈렸지만 몇 번 실패하고 다시 하다 보면 금방 알게 될 것이다.</p>

<p>시간을 들여 themes를 고민해봐야겠다. 나중에 어떤 theme를 썼는지 기억을 못하거나 사라졌다면 어떻게 해야 할 것인가?</p>

<h4 id="참고">참고</h4>

<ul>
<li><a href="https://gohugo.io/getting-started/quick-start/">quick start</a></li>
<li><a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/">github에 배포하기</a>

<ul>
<li>gitlab, firebase, aws 등등 여러 곳에 배포하는 방법이 나와있다.</li>
</ul></li>
<li><a href="https://themes.gohugo.io/">hugo themes</a></li>
</ul>

		</div>
		
<div class="post__tags tags clearfix">
	<svg class="tags__icon icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/how-to/" rel="tag">how to</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/hugo/" rel="tag">hugo</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/go/" rel="tag">go</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/golang/" rel="tag">golang</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/github/" rel="tag">github</a></li>
		<li class="tags__item"><a class="tags__link btn" href="/tags/github.io/" rel="tag">github.io</a></li>
	</ul>
</div>
	</article>
</main>




			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2019 비오는 숲.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script></body>
</html>